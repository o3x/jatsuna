# 蛇突奈 (Jatsuna) 公式ルールブック

**バージョン**: 2.1（v6.7.0準拠）  
**最終更新**: Tue Feb 18 20:25:00 JST 2026  
**著者**: OHYAMA, Yoshihisa (o3x)

---

## 概要

蛇突奈（ジャツナ / Jatsuna）は、3人で遊ぶオセロ系戦略ボードゲームです。  
オーブ（●）、ジェム（◆）、ステラ（★）の3勢力が、7×7の盤面上で石を奪い合います。

---

## ゲーム要素

### ボード
- **7×7マス**（49マス）
- 中央マス(4,4)は**壁（X）**で、石を置くことができません
- 有効マス: **48マス**

### プレイヤー
| 勢力 | 記号 | 色 |
|------|------|----|
| オーブ (Orb) | ● | 赤系 |
| ジェム (Gem) | ◆ | 青系 |
| ステラ (Stella) | ★ | 緑系 |

- 1人がプレイヤー、残り2人はAIが操作します

### 初期配置
ゲーム開始時、3つの石が**ワイドトライアングル配置**で盤面に置かれます:

```
  1 2 3 4 5 6 7
1 . . . . . . .
2 . . . . . . .
3 . . . ● . . .    ● = オーブ
4 . . . X . . .    X = 壁
5 . . . . . ◆ .    ◆ = ジェム
6 . . ★ . . . .    ★ = ステラ
7 . . . . . . .
```

### 手番
- ゲーム開始時にルーレットでランダムに決定されます
- 手番は3人で順番（例: ●→◆→★→●→...）に進行します
- 全員が**15手ずつ**打ちます（合計45手）

---

## ルール

### 基本ルール

1. **石の配置**: 自分のターンに、空いているマスに1つ石を置きます
2. **キャプチャ（挟み取り）**: 自分の石で相手の石を挟むと、挟まれた石が**変換**されます
3. **キャプチャ優先**: キャプチャできる手がある場合、必ずキャプチャする手を選ばなければなりません
4. **自由配置**: キャプチャできる手がない場合、任意の空きマスに石を置くことができます

### 変換ルール（3すくみ）

通常のオセロ（2人）では挟んだ石は自分の色になりますが、蛇突奈では**3すくみの変換**が発生します:

| 置いた石 | 挟んだ石 | 変換後 |
|---------|---------|--------|
| ● オーブ | ◆ ジェム | → ● オーブ（自分の色） |
| ● オーブ | ★ ステラ | → ● オーブ（自分の色） |
| ◆ ジェム | ★ ステラ | → ◆ ジェム（自分の色） |
| ◆ ジェム | ● オーブ | → ◆ ジェム（自分の色） |
| ★ ステラ | ● オーブ | → ★ ステラ（自分の色） |
| ★ ステラ | ◆ ジェム | → ★ ステラ（自分の色） |

> **注**: 挟んだ石は全て自分の色に変換されます。COLOR_TRANSFORM定義によりオセロとは異なる変換パターンが設定されていますが、基本的に「挟んだら自分の色になる」と覚えてください。

### キャプチャの方向
- 8方向（上下左右＋斜め4方向）で挟み取りが可能です
- 1手で複数方向のキャプチャが同時に発生することがあります

---

## ゲーム終了

以下のいずれかで終了します:

1. **盤面が埋まった**: 壁以外の全マスに石が置かれた
2. **全員パス**: 3人全員が連続してパス（置ける場所がない）した

### 勝敗判定

ゲーム終了時点で**最も多くの石を持っているプレイヤーの勝利**です。

| 順位 | 表示 |
|------|------|
| 🥇 1位 | 「おめでとうございます!」 |
| 🥈 2位 | 「惜しい! 2位でした」 |
| 🥉 3位 | 「ドンマイ! 次は勝てます」 |

---

## AI難易度

| 難易度 | 特徴 |
|--------|------|
| **Easy** | ランダムに手を選ぶ |
| **Medium** | 獲得数を重視する貪欲法（角優先） |
| **Hard** | 位置評価関数を用いた戦略的思考 |
| **Super Hard** | 1手先読み + 高度な評価関数（最強AI） |
| **Ultimate（結託モード）** | AI 2人が結託してプレイヤーを集中攻撃（深度4のミニマックス探索） |

---

## 戦略のヒント

1. **角を取れ**: 角(コーナー)は取られにくく、盤面制圧の要です
2. **辺を確保**: 辺は安定した石を作りやすい
3. **角の隣は危険**: 角に隣接するマス（特に斜め）は相手に角を取らせる原因に
4. **3人の力学**: 1人が強くなりすぎると、残り2人に挟まれます。バランスを見て戦いましょう
5. **終盤の自由配置**: キャプチャなしの自由配置は陣地確保のチャンス

---

## バランス検証

蛇突奈のゲームバランスは、AIシミュレーションによって継続的に検証されています。

- **v3.0**: 15パターン×1000ゲームの大規模シミュレーション（勝率スプレッド6.6%達成）
- **v4.1**: 中央壁導入で手番均等化
- **v6.1.0**: Wide Triangle配置に変更
- **v6.7.0**: 宝石風ビジュアル、バリアフリー対応、ポータビリティ向上リファクタリング、三すくみルール同期
- **v6.6.0**: 中央壁復活（手番勝率スプレッド37.6%→16.3%に改善）

検証データは [`docs/balance/`](./balance/) に蓄積されています。

### 攻略ガイド
さらに詳しい戦術や、Ultimateモードへの対策については、[攻略・必勝ガイド](./STRATEGY.md) を参照してください。

---

## ライセンス・クレジット

- **ゲームデザイン**: OHYAMA, Yoshihisa (o3x)
- **開発**: Claude.ai, Gemini & Antigravity を用いたAI協調開発
- **技術スタック**: React + Vite + Tailwind CSS
- © 2025-2026 OHYAMA, Yoshihisa (o3x)
